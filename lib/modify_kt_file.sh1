#!/bin/bash

# Directory where the files are located
SEARCH_DIR="out-kotlin/com/mercurylayer"

# File pattern to search for (e.g., all Kotlin files)
FILE_PATTERN="*.kt"

# The text to find
FIND_TEXT="data class ServerConfig("

# The text to add
ADD_TEXT="@Serializable"

# Using find to locate Kotlin files and sed to modify them
find "$SEARCH_DIR" -type f -name "$FILE_PATTERN" -exec sed -i "/$FIND_TEXT/i $ADD_TEXT" {} +

echo "Modification complete."
